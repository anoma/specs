* Astrolabe setup
  #+begin_src shell
    git checkout astrolabe
    # build
    make
    # snapshot and link proto_alpha as version 008 (delphi is predecessor)
    scripts/snapshot_alpha_and_link.sh 008 astrolabe
    # commit changes
    git add src/proto_008_*
    git add -u
    git commit -am "scripts/snapshot_alpha_and_link.sh 008 astrolabe"

    # Genesis: set activator signature key
    # edit `Pubkey.default` in `src/proto_genesis/lib_protocol/data.ml` 

    # Find the new genesis protocol hash
    ./tezos-protocol-compiler -hash-only src/proto_genesis/lib_protocol

    # Globally replace genesis hash
    # "ProtoGenesisGenesisGenesisGenesisGenesisGenesk612im" with the output of
    # the last command

    # Run this command to generate network config and follow the instructions:
    ./gen_genesis.exe astrolabe <new_genesis_hash> [<bootstrap_peers>...]

    # Get activation script and update as needed
    # from https://gitlab.com/metastatedev/tezos/-/commit/194cb04cf4c3485096d9e16e7cb7a8e02c33aec6
    git cherry-pick 194cb04c
  #+end_src
  
* start testnet
  #+begin_src bash
    # every node start
    ./tezos-node identity generate
    ./tezos-node config init --network=astrolabe
    # start the node (3 connections with 4 peers)
    ./tezos-node run --rpc-addr=127.0.0.1 --connections 3 --history-mode=archive --network=astrolabe

    # activation key owner activates
    ./scripts/activate.sh

    # start baker, endorser and accuser, e.g.
    ./tezos-baker-008-* run with local node ~/.tezos-node/ <your-baker-key>
    ./tezos-endorser-008-* run <your-baker-key>
    ./tezos-accuser-008-* run
  #+end_src

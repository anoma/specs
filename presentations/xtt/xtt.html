<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>xtt</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/night.css" id="theme">
  <link rel=stylesheet href=style-extra.css>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">xtt</h1>
</section>

<section>
<section id="what-is-xtt" class="title-slide slide level1">
<h1>what is xtt?</h1>
<p><span class="emoji" data-emoji="point_right">üëâ</span> <a href="https://www.cs.cmu.edu/~cangiuli/papers/xtt.pdf" class="uri">https://www.cs.cmu.edu/~cangiuli/papers/xtt.pdf</a></p>
</section>
<section class="slide level2">

<p><img data-src="what_is_the_x.png" /><br />
<span class="mini">(<a href="https://twitter.com/jonmsterling/status/1407035198672343045" class="uri">https://twitter.com/jonmsterling/status/1407035198672343045</a>)</span></p>
</section></section>
<section>
<section id="intensional-and-extensional" class="title-slide slide level1">
<h1>intensional and extensional</h1>

</section>
<section id="intensional-type-theory" class="slide level2">
<h2>intensional type theory</h2>
<div class="defs">
<p><span class="math display">\[
\newcommand\Type{\mathord\bigstar}
\newcommand\Rule[3]{
  \frac{\begin{gathered}#2\end{gathered}}{#3}\:[\textsf{#1}]
}
\newcommand\Refl{\mathsf{refl}}
\newcommand\Subst{\mathsf{subst}}
\]</span></p>
</div>
<ul>
<li><p>separate definitional &amp; propositional equality</p></li>
<li><p>‚Äúconvertibility‚Äù <span class="math inline">\(\equiv\)</span> (e.g.¬†<span class="math inline">\(\alpha\beta\eta\)</span> equality) vs ‚Äúidentity type‚Äù <span class="math inline">\(=\)</span></p></li>
<li><p>explicit coercion over propositional equalities (<span class="math inline">\(\Subst\)</span>)</p>
<p><span class="math display">\[
\begin{gathered}
\Rule{id-f}{A : \Type \qquad x, y : A}{x =_A y : \Type}
\qquad
\Rule{id-i}{x : A}{\Refl_x : x =_A x}
\\[1em]
\Rule{id-e}{
  A : \Type \qquad
  P : A \to \Type \qquad
  x, y : A \qquad
  e : x = y \qquad
  p : P \; x
}{
  \Subst_P \; e \; p : P \; y
}
\end{gathered}
\]</span></p></li>
</ul>
<aside class="notes">
<ul>
<li>the usual thing. agda, idris, coq, probably everything you‚Äôve actually used</li>
</ul>
</aside>
</section>
<section id="extensional-type-theory" class="slide level2">
<h2>extensional type theory</h2>
<ul>
<li><p>undecidable typechecking <span class="emoji" data-emoji="scream_cat">üôÄ</span></p></li>
<li><p>‚Äúequality reflection‚Äù <span class="math display">\[ \Rule{reflect}{e : x = y}{x \equiv y} \]</span></p></li>
<li><p>nice properties like functional extensionality are <strong>derivable</strong> <span class="math display">\[ \Rule{funext*}{x : A \vdash f \; x \equiv g \; x}{f \equiv g} \]</span></p></li>
</ul>
<aside class="notes">
<ul>
<li>nuprl, lego, redprl, etc</li>
<li>equality of two arbitrary terms is undecidable, and equality proofs can be invisibly required in typing due to <code>reflect</code>, hence undecidable typing</li>
<li>in ETT based proof assistants you manipulate type derivations rather than just terms</li>
<li>despite that, proofs can be less cluttered because any equality check can be made into a subgoal. e.g.¬†no heterogeneous equality-type messes</li>
<li>funext is a bigger deal than it may sound. e.g.¬†w-types are unusable without it</li>
</ul>
</aside>
</section>
<section id="so-where-does-xtt-fit-in" class="slide level2">
<h2>so where does xtt fit in</h2>
<ul>
<li><p>no equality reflection</p></li>
<li><p>decidable type checking</p></li>
<li><p>fun ext gained by other means</p></li>
<li><p>like OTT but the specifics are different</p></li>
<li><p>(no univalence)</p></li>
</ul>
</section></section>
<section>
<section id="syntax-abbreviated" class="title-slide slide level1">
<h1>syntax (abbreviated)</h1>
<div class="defs">
<p><span class="math display">\[
\newcommand\EQ\Coloneqq
\newcommand\OR{\mathrel|}
\newcommand\ORR{\mathrel{\mathrlap{\mkern9mu|}{\hphantom\EQ}}}
\]</span></p>
</div>
</section>
<section id="equality-in-cubical-type-theories" class="slide level2">
<h2>equality in cubical type theories</h2>
<div class="defs">
<p><span class="math display">\[
\newcommand\Eq{\mathsf{Eq}}
\newcommand\With{\mathsf{with}}
\newcommand\Goes\hookrightarrow
\]</span></p>
</div>
<ul>
<li><p>a [pseudo]type called the <strong>interval</strong>, with <strong>endpoints</strong> called 0 and 1</p></li>
<li><p>the interval might have extra structure or operations. not here though</p></li>
<li><p>an equality is like a <strong>function</strong> from the interval to a normal type.<br />
the images of 0 and 1 are the left and right of the equation. for example:</p>
<ul>
<li>for <span class="math inline">\(M : A, \quad \Refl_A \coloneqq (\lambda i. M) : M = M\)</span></li>
<li>for <span class="math inline">\(Q : Y = Z, \quad Q \; 0 = Y : A\)</span>, and <span class="math inline">\(Q \; 1 = Z : A\)</span>.</li>
</ul></li>
<li><p>you can think of them as paths but that‚Äôs less important than in hott</p></li>
</ul>
</section>
<section id="regular-terms" class="slide level2">
<h2>regular terms</h2>
<div class="defs">
<p><span class="math display">\[
\newcommand\Fst{\mathsf{fst}}
\newcommand\Snd{\mathsf{snd}}
\]</span></p>
</div>
<p><span class="math display">\[
\begin{aligned}
M, N, A, B
  &amp;\EQ  x &amp;\text{variable} \\
  &amp;\ORR (x : A) \to B  \OR  \lambda x. M  \OR  M \; N
    &amp; \text{functions} \\
  &amp;\ORR (x : A) \times B  \OR  \langle M, N \rangle  \OR  \Fst \; M \OR \Snd \; M
    &amp; \text{pairs} \\
  &amp;\ORR \dotsb
\\[.75em]
\Gamma, \Delta
  &amp;\EQ \cdot  \OR  \Gamma, x: A
    &amp;\text{type context}
\end{aligned}
\]</span></p>
</section>
<section id="dimensions" class="slide level2">
<h2>dimensions</h2>
<ul>
<li><p>cube stuff (but no operations like <span class="math inline">\(\wedge\)</span> etc)</p></li>
<li><p>used for equality</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
r, s
  &amp;\EQ 0 \OR 1 \OR i
  &amp;\text{dimension}
\\
\Psi, \Phi
  &amp;\EQ \cdot \OR \Psi, i \OR \Psi, r = s
  &amp;\text{dim. context (``cube&#39;&#39;)}
\\[.75em]
M, N, A, B
  &amp;\EQ  \dotsb &amp; \text{(terms contd)} \\
  &amp;\ORR \Eq_{i.A} \; M \; N  \OR  \lambda i. M  \OR  M \; r
    &amp;\text{equality proofs} \\
  &amp;\ORR [i. A] \downarrow^r_{r&#39;} M
    &amp;\text{coercion} \\
  &amp;\ORR [i. A] \downarrow^r_{r&#39;} M \; [s \; \With \; 0 \Goes j.N_0 \mid 1 \Goes j.N_1]
    &amp;\text{composition}
\end{aligned}
\]</span></p>
<aside class="notes">
<ul>
<li>the subscript on <span class="math inline">\(\Eq\)</span> supports dependent equality
<ul>
<li><span class="math inline">\(\Eq_{i.A} \; M \; N\)</span> is ok if<br />
<span class="math inline">\(M : A[0/i]\)</span> and <span class="math inline">\(N : A[1/i]\)</span></li>
</ul></li>
<li>an equality proof can be applied to a dimension
<ul>
<li>if <span class="math inline">\(Q: \Eq \; A \; B\)</span>, then<br />
<span class="math inline">\(Q \; 0 \mapsto A\)</span> and<br />
<span class="math inline">\(Q \; 1 \mapsto B\)</span></li>
</ul></li>
<li>coercion takes a term <span class="math inline">\(M: A[0/i]\)</span><br />
and has type <span class="math inline">\(A[1/i]\)</span></li>
<li>a composition is like a coercion with extra constraints on its values for the ends of <span class="math inline">\(s\)</span></li>
<li>typing coercions and compositions involves proving equalities at the endpoints as well as ‚Äúconventional‚Äù type obligations</li>
</ul>
</aside>
</section></section>
<section>
<section id="some-type-rules" class="title-slide slide level1">
<h1>some type rules</h1>
<p><span class="math display">\[ \Psi \mid \Gamma \vdash M : A \]</span></p>
<div class="note">
<p>reminder: Œ® is cube, Œì is types, M is subj, A is type</p>
</div>
</section>
<section id="inconsistency" class="slide level2">
<h2>inconsistency</h2>
<p><span class="math display">\[
\Rule{false-ty}{\Psi \vdash 0 = 1}{\Psi \mid \Gamma \vdash M : A}
\qquad
\Rule{false-eq}{\Psi \vdash 0 = 1}{\Psi \mid \Gamma \vdash M = N : A}
\qquad
\text{etc}
\]</span></p>
<aside class="notes">
<p>if you can derive 0=1, then you‚Äôre in an absurd case somewhere so you can just stop</p>
</aside>
</section>
<section id="equalities" class="slide level2">
<h2>equalities</h2>
<div class="defs">
<p><span class="math display">\[
\newcommand\eps\varepsilon
\newcommand\Dim{\;\mathbf{dim}}
\]</span></p>
</div>
<p><span class="math display">\[
\begin{gathered}
\Rule{eq-f}{
  \Psi, i \mid \Gamma \vdash A : \Type \qquad
  \overline{\Psi, i, i = \eps \mid \Gamma \vdash N_\eps : A}
}{
  \Psi \mid \Gamma \vdash \Eq_{i.A} \; N_0 \; N_1 : \Type
}
\\[.75em]
\Rule{eq-i}{
  \Psi, i \mid \Gamma \vdash M : A \qquad
  \overline{\Psi, i, i = \eps \mid \Gamma \vdash M = N_\eps : A}
}{
  \Psi \mid \Gamma \vdash \lambda i. M : \Eq_{i. A} \; N_0 \; N_1
}
\\[.75em]
\Rule{eq-e}{
  \Psi \vdash r \Dim \qquad
  \Psi, i \mid \Gamma \vdash A : \Type \\
  \overline{\Psi, i, i = \eps \mid \Gamma \vdash N_\eps : A} \qquad
  \Psi \mid \Gamma \vdash M : \Eq_{i. A} \; N_0 \; N_1
}{
  \Psi \mid \Gamma \vdash M \; r : A[r/i]
}
\end{gathered}
\]</span></p>
<aside class="notes">
<ul>
<li>an overline over a premise containing Œµ stands for two actual premises, one where Œµ=0 and one where Œµ=1</li>
<li>eq-f is mostly expected, except that the type A of the Ns has a dimension variable, which can be used to give them different (but equal) types</li>
<li>eq-i shows that an equality is an abstraction over a dimension i, whose body is a term equal to each N as i varies.<br />
reflexivity <span class="math inline">\(\Eq_{\_. A} \; M \; M\)</span> is just<br />
<span class="math inline">\(\lambda i. M\)</span>.</li>
<li>eq-e applies one of these abstractions, substituting in the type, and when Œ≤ reducing, in the body. when r is 0 or 1 this results in one of the Ns</li>
</ul>
</aside>
</section>
<section id="coercions" class="slide level2">
<h2>coercions</h2>
<p><span class="math display">\[
\begin{gathered}
\Rule{coe}{
  \Psi \vdash r, r&#39; \Dim \qquad
  \Psi, i \mid \Gamma \vdash A : \Type \qquad
  \Psi \mid \Gamma \vdash M : A[r/i]
}{
  \Psi \mid \Gamma \vdash [i. A] \downarrow^r_{r&#39;} M : A[r&#39;/i]
}
\\[.75em]
\Rule{coe-b}{
  \Psi \mid \Gamma \vdash M : A[r/i]
}{
  \Psi \mid \Gamma \vdash ([i. A] \downarrow^r_r M) = M : A[r/i]
}
\end{gathered}
\]</span></p>
<aside class="notes">
<ul>
<li>a coercion along a type equality takes a term<br />
<span class="math inline">\(M: A[r/i]\)</span> to <span class="math inline">\(M: A[r&#39;/i]\)</span> for some line of types <span class="math inline">\(i. A\)</span><br />
(i.e.¬†an equality <span class="math inline">\(\lambda i. A\)</span>)</li>
<li>if the beginning and the end are the same the coercion just computes away</li>
</ul>
</aside>
</section>
<section id="boundary-separation" class="slide level2">
<h2><span class="emoji" data-emoji="sparkles">‚ú®</span> boundary separation <span class="emoji" data-emoji="sparkles">‚ú®</span></h2>
<p><span class="math display">\[
\begin{gathered}
\Rule{bsep}{
  \Psi \vdash r \Dim \qquad
  \overline{\Psi, r = \eps \mid \Gamma \vdash M = N : A}
}{
  \Psi \mid \Gamma \vdash M = N : A
}
\end{gathered}
\]</span></p>
<ul>
<li>thanks to this rule, equalities are always defined by their endpoints</li>
<li>in other words there is only (at most) one proof of <span class="math inline">\(A = B\)</span></li>
<li>so you still have UIP, proofs can always be erased, matching with K is (probably) still fine, etc</li>
</ul>
<aside class="notes">
<ul>
<li>when you‚Äôre trying to prove an equality you can do so by repeated applications of this rule to assign 0 or 1 to each dim variable, and checking under each of these assignments which is consistent</li>
</ul>
</aside>
</section></section>
<section>
<section id="examples" class="title-slide slide level1">
<h1>examples</h1>

</section>
<section id="funext-example" class="slide level2">
<h2>funext example</h2>
<div class="defs">
<p><span class="math display">\[
\newcommand\DD{\texttt}
\newcommand\VV{\mathit}
\newcommand\Nat{\mathbb{N}}
\]</span></p>
</div>
<div>
<ul>
<li class="fragment"><p><span class="math inline">\(\DD{f}, \DD{g}: (x: A) \to B \; x\)</span></p></li>
<li class="fragment"><p><span class="math inline">\(\DD{fg} : (x : A) \to \Eq_{\_. B \; x} (f \; x) (g \; x)\)</span></p></li>
<li class="fragment"><p><span class="math inline">\(\lambda i. \lambda x. \DD{fg} \; x \; i : \Eq_{\_. (x: A) \to B \; x} \; f \; g\)</span></p></li>
</ul>
</div>
</section>
<section id="coercion-example" class="slide level2">
<h2>coercion example</h2>
<div>
<ul>
<li class="fragment"><p><span class="math inline">\(\DD{zeroR} : (m : \Nat) \to m = m + \DD{Z}\)</span></p>
<ul>
<li class="fragment"><span class="math inline">\(\DD{zeroR} \; m \; 0 \mapsto m \qquad  \DD{zeroR} \; m \; 1 \mapsto m+\DD{Z}\)</span></li>
</ul></li>
<li class="fragment"><p><span class="math inline">\(\DD{Vec} : \Type \to \Nat \to \Type\)</span></p></li>
<li class="fragment"><p><span class="math inline">\(\VV{xs}: \DD{Vec} \; \Nat \; n\)</span></p></li>
<li class="fragment"><p><span class="math inline">\([i. \DD{Vec} \; \Nat \; (\DD{zeroR} \; n \; i)] \downarrow^0_1 \VV{xs} :  \DD{Vec} \; \Nat \; (n + \DD{Z})\)</span></p>
<ul>
<li class="fragment"><span class="math inline">\(\lambda i. \DD{Vec} \; \Nat \; (\DD{zeroR} \; n \; i) :  \Eq_{\_. \Type} \; (\DD{Vec} \; \Nat \; n) \;  (\DD{Vec} \; \Nat \; (n + \DD{Z}))\)</span></li>
</ul></li>
</ul>
</div>
<aside class="notes">
<ul>
<li>i couldn‚Äôt think of a good example of a composition, sorry. it seems like compositions would mostly show up from computation, rather than being used directly.</li>
</ul>
</aside>
</section></section>
<section>
<section id="conclusion" class="title-slide slide level1">
<h1>conclusion</h1>

</section>
<section id="xtt-in-one-slide" class="slide level2">
<h2>xtt in one slide</h2>
<ul>
<li>basically OTT 2</li>
<li>extensionality but still decidable
<ul>
<li>(<strong>propositional</strong> extensionality, not definitional)</li>
</ul></li>
<li>cubes <span class="emoji" data-emoji="ice_cube">üßä</span> <span class="emoji" data-emoji="ice_cube">üßä</span> <span class="emoji" data-emoji="ice_cube">üßä</span></li>
<li>boundary separation</li>
<li>i think it‚Äôs kinda cool anyway</li>
</ul>
</section>
<section id="should-we-add-this-to-juvix" class="slide level2">
<h2>should we add this to juvix?</h2>
<ul>
<li>no i don‚Äôt think so
<ul>
<li>it‚Äôs still pretty complicated</li>
<li>it still relies on a closed type universe + type case<br />
but i think only in ‚Äúzero-usage‚Äù places</li>
</ul></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/math/math.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: false,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [
          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
